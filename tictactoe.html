<!--This is tictactoe human vs ai opponent without the minimax algorithm-->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Tic Tac Toe</title>
    <style>
      body {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        margin: 0;
        background: linear-gradient(135deg, #74abe2, #5563de);
        font-family: Arial, sans-serif;
        color: #fff;
      }

      .game-container {
        text-align: center;
      }

      h1 {
        margin-bottom: 20px;
      }

      .board {
        display: grid;
        grid-template-columns: repeat(3, 100px);
        grid-template-rows: repeat(3, 100px);
        gap: 5px;
      }

      .cell {
        width: 100px;
        height: 100px;
        background: rgba(255, 255, 255, 0.1);
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 2.5rem;
        font-weight: bold;
        border-radius: 10px;
        cursor: pointer;
        transition: background 0.3s;
      }

      .cell:hover {
        background: rgba(255, 255, 255, 0.2);
      }

      .status {
        margin-top: 20px;
        font-size: 1.2rem;
      }

      button {
        margin-top: 15px;
        padding: 10px 20px;
        font-size: 1rem;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        background: #fff;
        color: #5563de;
        font-weight: bold;
        transition: 0.3s;
      }

      button:hover {
        background: #eee;
      }
    </style>
  </head>
  <body>
    <div class="game-container">
      <h1>Tic Tac Toe</h1>
      <div class="board" id="board"></div>
      <div class="status" id="status">Your turn (X)</div>
      <button onclick="resetGame()">Restart Game</button>
    </div>

    <script>
      let board = [
        [null, null, null],
        [null, null, null],
        [null, null, null],
      ];
      let human = "X";
      let ai = "O";
      let gameOver = false;

      const boardElement = document.getElementById("board");
      const statusElement = document.getElementById("status");

      // Create board UI
      function createBoard() {
        boardElement.innerHTML = "";
        for (let row = 0; row < 3; row++) {
          for (let col = 0; col < 3; col++) {
            const cell = document.createElement("div");
            cell.classList.add("cell");
            cell.dataset.row = row;
            cell.dataset.col = col;
            cell.textContent = board[row][col] || "";
            cell.addEventListener("click", () => humanMove(row, col));
            cell.id = `cell${row}-${col}`;
            boardElement.appendChild(cell);
          }
        }
      }

      // Check winner
      function checkWinner(player) {
        // Rows
        for (let row = 0; row < 3; row++) {
          if (
            board[row][0] === player &&
            board[row][1] === player &&
            board[row][2] === player
          ) {
            for (let col = 0; col < 3; col++) {
              document.getElementById(
                `cell${row}-${col}`
              ).style.backgroundColor = "#00E88F";
            }
            return true;
          }
        }
        // Columns
        for (let col = 0; col < 3; col++) {
          if (
            board[0][col] === player &&
            board[1][col] === player &&
            board[2][col] === player
          ) {
            for (let row = 0; row < 3; row++) {
              document.getElementById(
                `cell${row}-${col}`
              ).style.backgroundColor = "#00E88F";
            }
            return true;
          }
        }
        // Diagonals
        if (
          board[0][0] === player &&
          board[1][1] === player &&
          board[2][2] === player
        ) {
          for (let i = 0; i < 3; i++) {
            document.getElementById(`cell${i}-${i}`).style.backgroundColor =
              "#00E88F";
          }
          return true;
        }
        if (
          board[0][2] === player &&
          board[1][1] === player &&
          board[2][0] === player
        ) {
          for (let i = 0; i < 3; i++) {
            document.getElementById(`cell${i}-${2 - i}`).style.backgroundColor =
              "00E88F";
          }
          return true;
        }

        return false;
      }

      // Check if board is full
      function boardIsFull() {
        for (let row = 0; row < 3; row++) {
          for (let col = 0; col < 3; col++) {
            if (board[row][col] === null) return false;
          }
        }
        return true;
      }

      // Human move
      function humanMove(row, col) {
        if (gameOver || board[row][col] !== null) return;

        board[row][col] = human;
        createBoard();

        if (checkWinner(human)) {
          statusElement.textContent = "You win! ðŸŽ‰";
          gameOver = true;
          return;
        }

        if (boardIsFull()) {
          statusElement.textContent = "It's a draw!";
          gameOver = true;
          return;
        }

        statusElement.textContent = "AI's turn...";
        setTimeout(aiMove, 500); // Small delay for realism
      }

      // Find best AI move (win, block, or random)
      function findBestMove() {
        // 1. Try to win
        for (let row = 0; row < 3; row++) {
          for (let col = 0; col < 3; col++) {
            if (board[row][col] === null) {
              board[row][col] = ai;
              if (checkWinner(ai)) {
                board[row][col] = null;
                return { row, col };
              }
              board[row][col] = null;
            }
          }
        }

        // 2. Block humanâ€™s win
        for (let row = 0; row < 3; row++) {
          for (let col = 0; col < 3; col++) {
            if (board[row][col] === null) {
              board[row][col] = human;
              if (checkWinner(human)) {
                board[row][col] = null;
                return { row, col };
              }
              board[row][col] = null;
            }
          }
        }

        // 3. Otherwise random move
        let emptyCells = [];
        for (let row = 0; row < 3; row++) {
          for (let col = 0; col < 3; col++) {
            if (board[row][col] === null) {
              emptyCells.push({ row, col });
            }
          }
        }

        return emptyCells[Math.floor(Math.random() * emptyCells.length)];
      }

      // AI move
      function aiMove() {
        if (gameOver) return;

        let choice = findBestMove();
        if (!choice) return;

        board[choice.row][choice.col] = ai;
        createBoard();

        if (checkWinner(ai)) {
          statusElement.textContent = "AI wins! ðŸ¤–";
          gameOver = true;
          return;
        }

        if (boardIsFull()) {
          statusElement.textContent = "It's a draw!";
          gameOver = true;
          return;
        }

        statusElement.textContent = "Your turn (X)";
      }

      // Reset game
      function resetGame() {
        board = [
          [null, null, null],
          [null, null, null],
          [null, null, null],
        ];
        gameOver = false;
        statusElement.textContent = "Your turn (X)";
        createBoard();
      }

      // Initialize
      createBoard();
    </script>
  </body>
</html>
